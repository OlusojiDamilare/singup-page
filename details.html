<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css">
</head>

<body background="img.jpg" style="background-repeat: no-repeat; background-size: cover;">
  <nav class="navbar bg-light">
    <div class="container-fluid ">
      <a class="navbar-brand text-success text- ">BEN UNIVERSITY</a>
      <div class="d-flex">
        <input class="form-control me-2" id="searchInp" type="search" onchange="search(event)" placeholder="Search" aria-label="Search">
        <button class="btn btn-outline-success" type="submit">Search</button>
      </div>
    </div>
  </nav>
  <div class="container col-lg-6">
    <h1 class="text-center">Student deatails</h1>
    <table class="table" id="myTable">
      <tr>
        <td>S/N</td>
        <td>Firstname</td>
        <td>Lastname</td>
        <td>Email</td>
        <td>Matric No</td>
        <td>Actions</td>
      </tr>
    </table>

  </div>
  <script>
    var students = JSON.parse(localStorage.getItem("studentDetails"));
 
    for (let index = 0; index < students.length; index++) {
      const i = index
      myTable.innerHTML +=
        `<tr>
              <td>${index + 1}</td>
              <td>${students[index].firstName}</td>
              <td>${students[index].lastName}</td>
              <td>${students[index].email}</td>
              <td>${students[index].MatricNum}</td>
              <td>
                <button class="btn btn-danger" onclick="deletee(${i})">Del</button>
                <button class="btn btn-warning ms-2" onclick="edit(${i})">Edit</button>
              </td>
            </tr>`
          };
    function deletee(index) {
      console.log(students[index])
      students.splice(index, 1)
      stud = JSON.stringify(students)
      localStorage.setItem("studentDetails", stud)
      location.reload()
    }
    function edit(i) {
      newform.style.display = "block"
      console.log(i);
      sucess = () => {
        nww = { firstname: firstName.value, lastname: lastName.value, email: email.value, password: passWord.value }
        students[i].firstName = nww.firstname
        students[i].lastName = nww.lastname
        students[i].email = nww.email
        students[i].passWord = nww.password

        console.log(students[i])
        stud = JSON.stringify(students)
        localStorage.setItem("studentDetails", stud)
        location.reload()
      }
    }


          // nameOf.innerHTML= "The name at index "+searchInp.value+" is: " +students[searchInp.value].firstName +""+ students[searchInp.value].lastName;
          // matric.innerHTML = "Student matric NO: "+students[searchInp.value].MatricNum
          // time.innerHTML = "Time added: "+students[searchInp.value].Time
          // email.innerHTML = "email: "+students[searchInp.value].email

  </script>

  <div class="w-50 mx-auto my-5 text-center shadow p-3 rounded-4" id="newform" style="display: none;">
    <h2 class="text-success ">Edit infomation</h2>
    <input type="text" class="form-control my-4" aria-label="Username" placeholder="firstname" id="firstName">
    <input type="text" class="form-control my-4" aria-label="Username" placeholder="lastname" id="lastName">
    <input type="text" class="form-control my-4" aria-label="Username" placeholder="email" id="email">
    <input type="text" class="form-control my-4" aria-label="Username" placeholder="password" id="passWord">
    <button class="btn btn-outline-success W-100 my-3  " onclick="sucess()">save</button><br>
  </div>
</body>

</html>